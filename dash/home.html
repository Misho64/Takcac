<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - Ù…ØµÙ„Ø­ ÙˆØ²Ù†Ùƒ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="home.css" />
</head>
<body>
  <div class="dashboard">
    <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
    <aside class="sidebar">
      <div class="user-info">
        <p>ğŸ‘‹ Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ <span id="username">Ø¬Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„...</span></p>
      </div>
      <nav class="nav-links">
        <ul>
          <li><a href="#">ğŸ  Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
          <li><a href="#">ğŸ¯ Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù</a></li>
          <li><a href="#">â• Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠ</a></li>
          <li><a href="#">ğŸ“ˆ Ø§Ù„Ù…Ø®Ø·Ø· Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ</a></li>
        </ul>
      </nav>
    </aside>

    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <main class="main-content">
      <h1>ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>
      <p>Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ù…ØªØ§Ø¨Ø¹Ø© ØªÙ‚Ø¯Ù…Ùƒ ÙˆØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§ØªÙƒ.</p>
    </main>
  </div>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"></script>

  <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase -->
  <script src="auth/firebase-config.js"></script>

  <!-- Ø¬Ù„Ø¨ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
    import { firebaseConfig } from './auth/firebase-config.js';

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const uid = localStorage.getItem("userUID");

    async function fetchUserName() {
      if (!uid) {
        document.getElementById("username").textContent = "ØºÙŠØ± Ù…Ø³Ø¬Ù„";
        return;
      }

      const docRef = doc(db, "users", uid);
      const docSnap = await getDoc(docRef);

      if (docSnap.exists()) {
        const userData = docSnap.data();
        document.getElementById("username").textContent = userData.displayName || "Ù…Ø³ØªØ®Ø¯Ù…";
      } else {
        document.getElementById("username").textContent = "Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯";
      }
    }

    fetchUserName();
  </script>
</body>
</html> 
